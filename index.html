<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine Love</title>

  <style>
    :root {
      --bg: #ffd6e0;
      --text-main: #a4003a;
      --text-soft: #c2185b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', system-ui, sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      overflow: hidden;
    }

    /* TOP TEXT */
    .top-text {
      width: 100%;
      text-align: center;
      font-size: clamp(1.2rem, 4vw, 1.8rem);
      font-weight: 600;
      margin-top: 10px;
    }

    /* CENTER ANIMATION */
    .animation-container {
      flex: 1;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    canvas {
      width: 100%;
      max-width: 420px;
      aspect-ratio: 1 / 1;
      background: transparent;
    }

    /* BOTTOM */
    .bottom {
      width: 100%;
      text-align: center;
      margin-bottom: 10px;
    }

    .since {
      font-size: 0.95rem;
      color: var(--text-soft);
      margin-bottom: 6px;
    }

    .counter {
      font-size: clamp(1rem, 3.8vw, 1.3rem);
      font-weight: 500;
    }
  </style>
</head>

<body>

  <!-- TOP -->
  <div class="top-text">
    I would choose you in every life
  </div>

  <!-- CENTER -->
  <div class="animation-container">
    <canvas id="fireworks"></canvas>
  </div>

  <!-- BOTTOM -->
  <div class="bottom">
    <div class="since">We've loved each other since</div>
    <div class="counter" id="counter"></div>
  </div>

  <script>
    /* ===== COUNTER ===== */
    const startDate = new Date("2023-12-03T00:00:00"); // AJUSTÁ ESTA FECHA

    function updateCounter() {
      const now = new Date();
      let diff = Math.floor((now - startDate) / 1000);

      const days = Math.floor(diff / 86400);
      diff %= 86400;
      const hours = Math.floor(diff / 3600);
      diff %= 3600;
      const minutes = Math.floor(diff / 60);
      const seconds = diff % 60;

      document.getElementById("counter").textContent =
        `${days} days · ${hours} hours · ${minutes} minutes · ${seconds} seconds`;
    }

    setInterval(updateCounter, 1000);
    updateCounter();

    /* ===== FIREWORKS HEART ===== */
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");

    function resize() {
      canvas.width = canvas.offsetWidth * devicePixelRatio;
      canvas.height = canvas.offsetHeight * devicePixelRatio;
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }

    resize();
    window.addEventListener("resize", resize);

    function heartPoints(t) {
      return {
        x: 16 * Math.pow(Math.sin(t), 3),
        y: -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t))
      };
    }

    let particles = [];

    function spawnHeart() {
      particles = [];
      for (let i = 0; i < 160; i++) {
        const t = Math.random() * Math.PI * 2;
        const p = heartPoints(t);
        particles.push({
          x: canvas.offsetWidth / 2,
          y: canvas.offsetHeight / 2,
          vx: p.x * 0.6,
          vy: p.y * 0.6,
          life: 80
        });
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.life--;

        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(216, 27, 96, 0.8)";
        ctx.fill();
      });

      particles = particles.filter(p => p.life > 0);

      requestAnimationFrame(animate);
    }

    spawnHeart();
    setInterval(spawnHeart, 1600);
    animate();
  </script>

</body>
</html>
